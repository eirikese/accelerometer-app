<!DOCTYPE html>
<html>
<head>
    <title>Accelerometer Data</title>
    <style>
        body {
            font-family: Arial, sans-serif; 
            text-align: center; 
            margin-top: 50px;
        }
        #data {
            font-size: 1.5em;
        }
        #data p {
            margin: 10px 0;
        }
        #button {
            padding: 10px 20px; 
            font-size: 1em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Accelerometer Data</h1>
    <div id="data">
        <p>X-axis: <span id="x">0</span></p>
        <p>Y-axis: <span id="y">0</span></p>
        <p>Z-axis: <span id="z">0</span></p>
    </div>
    <button id="button">Enable Accelerometer</button>

    <script>
        const button = document.getElementById("button");

        button.addEventListener("click", () => {
            if (typeof DeviceMotionEvent.requestPermission === 'function') {
                // iOS 13+ requires permission
                DeviceMotionEvent.requestPermission()
                    .then(permissionState => {
                        if (permissionState === 'granted') {
                            window.addEventListener('devicemotion', handleMotion);
                            button.style.display = 'none';
                        } else {
                            alert("Permission denied. Please allow access to motion sensors.");
                        }
                    })
                    .catch(console.error);
            } else {
                // Non-iOS devices
                window.addEventListener('devicemotion', handleMotion);
                button.style.display = 'none';
            }
        });

        function handleMotion(event) {
            const x = event.acceleration.x || 0;
            const y = event.acceleration.y || 0;
            const z = event.acceleration.z || 0;

            document.getElementById("x").textContent = x.toFixed(2);
            document.getElementById("y").textContent = y.toFixed(2);
            document.getElementById("z").textContent = z.toFixed(2);
        }
    </script>
</body>
</html>
